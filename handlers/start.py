# handlers/start.py
from aiogram import Router, types
from aiogram.filters import CommandStart, Command
from aiogram.enums import ParseMode
from config import VIDEO_FILE_ID  # –Ü–º–ø–æ—Ä—Ç –≤–∞—à–æ–≥–æ –≤—ñ–¥–µ–æ
from utils.message_manager import dynamic_send
from handlers.instruction import INSTRUCTION_TEXT
from utils.tts import send_voice_reply_ua

router = Router()


@router.message(CommandStart())
@router.message(Command(commands=["menu"]))
async def cmd_start(message: types.Message):
    # –û–±'—î–¥–Ω–∞–Ω–∏–π —Ç–µ–∫—Å—Ç —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –≤ –æ–¥–Ω–æ–º—É –ø—ñ–¥–ø–∏—Å—ñ
    base_caption = (
        "<b>üëã –í—ñ—Ç–∞—é!</b>\n\n"
        "<b>–Ø ‚Äî —Ü–∏—Ñ—Ä–æ–≤–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥—ñ—á–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä—É Botox Space.</b>\n"
        "–ú–æ–∂—É –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –±—É–¥—å-—è–∫—ñ –≤–∞—à—ñ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –Ω–∞—à —Ü–µ–Ω—Ç—Ä, –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ —Ç–∞ —ó—Ö–Ω—é –≤–∞—Ä—Ç—ñ—Å—Ç—å,\n"
        "–∞ —Ç–∞–∫–æ–∂ –Ω–∞–¥–∞—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—É –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—é –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –≤–∞—à–æ—ó –ø—Ä–æ–±–ª–µ–º–∏ —ñ –¥–æ–ø–æ–º–æ–≥—Ç–∏ –æ–±—Ä–∞—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è.\n\n"
        "<b>üí¨ –Ø–∫ –∑—ñ –º–Ω–æ—é —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è?</b>\n"
        "‚Ä¢ –ü–∏—à—ñ—Ç—å –∞–±–æ –Ω–∞–¥—Å–∏–ª–∞–π—Ç–µ –≥–æ–ª–æ—Å–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ‚Äî —è –≤—ñ–¥–ø–æ–≤—ñ–º —É —Ç–æ–º—É –∂ —Ñ–æ—Ä–º–∞—Ç—ñ.\n\n"
        "<b>üí≤ –©–æ–± –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø—Ä–∞–π—Å:</b>\n"
        "–î–æ–¥–∞–π—Ç–µ –¥–æ —Å–≤–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ <b>¬´–ø—Ä–∞–π—Å¬ª</b>, <b>¬´—Ü—ñ–Ω–∞¬ª</b> –∞–±–æ <b>¬´–≤–∞—Ä—Ç—ñ—Å—Ç—å¬ª</b> ‚Äî\n"
        "—ñ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é –Ω–∞—à–∏—Ö –ø–æ—Å–ª—É–≥.\n\n"
        "<b>üå∏ –©–æ–± –æ–∑–Ω–∞–π–æ–º–∏—Ç–∏—Å—è –∑ –∫–æ—Å–º–µ—Ç–∏–∫–æ—é –∞–±–æ –ø—Ä–æ–¥—É–∫—Ü—ñ—î—é:</b>\n"
        "–í–≤–µ–¥—ñ—Ç—å <b>¬´–±—Ä–µ–Ω–¥¬ª</b>,  –∞–±–æ <b>¬´–ø—Ä–æ–¥—É–∫—Ü—ñ—è¬ª</b> ‚Äî —ñ —è –ø–æ–∫–∞–∂—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏.\n\n"
        "<b>–î—è–∫—É—é –∑–∞ —É–≤–∞–≥—É!</b>\n"
        "<b>–ë–∞–∂–∞—é –≤–∞–º –≥–∞—Ä–Ω–æ–≥–æ –¥–Ω—è –≤—ñ–¥ —É–ª—é–±–ª–µ–Ω–æ–≥–æ Botox Space —Ç–∞ –≤–∞—à–æ—ó —Ü–∏—Ñ—Ä–æ–≤–æ—ó –ø–æ–º—ñ—á–Ω–∏—Ü—ñ ‚Äî –û–∫—Å–∞–Ω–∏.</b>\n"
        "<b>–í—Å–µ –±—É–¥–µ –£–∫—Ä–∞—ó–Ω–∞! üá∫üá¶</b>\n\n"
        "<b>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</b>\n"
        "<b>üóìÔ∏è –û–Ω–ª–∞–π–Ω-–±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è:</b>\n"
        "<b>   ‚Ä¢ –ó–∞–ø–∏—Å –æ–Ω–ª–∞–π–Ω:</b> <a href=\"http://n220793.alteg.io/company\">n220793.alteg.io/company</a>\n"
        "<b>   ‚Ä¢ –¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –∑–∞–ø–∏—Å—É:</b> 0687075187\n"
        "<b>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</b>\n\n"
        "<b>üìã –Ø–∫—â–æ –≤–∏ –≤—ñ–¥–¥–∞—î—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É –∫–ª–∞—Å–∏—á–Ω–æ–º—É –º–µ–Ω—é, –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É ¬´–ú–µ–Ω—é¬ª</b>\n"
        "‚¨áÔ∏è‚¨áÔ∏è‚¨áÔ∏è–ª—ñ–≤–æ—Ä—É—á –≤—ñ–¥ –ø–æ–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É.\n\n"
    )

    # –ù–∞–¥—Å–∏–ª–∞—î–º–æ –≤—ñ–¥–µ–æ –∑ –æ–±'—î–¥–Ω–∞–Ω–∏–º –ø—ñ–¥–ø–∏—Å–æ–º
    await dynamic_send(
        bot=message.bot,
        chat_id=message.chat.id,
        user_id=message.from_user.id,
        send_func=message.answer_video,
        video=VIDEO_FILE_ID,
        caption=base_caption,
        parse_mode=ParseMode.HTML,
        disable_web_page_preview=True
    )

    # –û–∑–≤—É—á—É—î–º–æ —Ç—É —Å–∞–º—É —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –≥–æ–ª–æ—Å–æ–º
    await send_voice_reply_ua(message, INSTRUCTION_TEXT)
