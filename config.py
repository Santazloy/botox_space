from dotenv import load_dotenv
import os
import logging

load_dotenv()
logging.basicConfig(level=logging.INFO)

# Telegram
TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")
if not TELEGRAM_BOT_TOKEN:
    raise RuntimeError("TELEGRAM_BOT_TOKEN is not set in environment variables")

# OpenAI
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")
if not OPENAI_API_KEY:
    raise RuntimeError("OPENAI_API_KEY is not set in environment variables")

# FFmpeg
FFMPEG_CMD = os.getenv("FFMPEG_PATH", "ffmpeg")
if not os.path.isfile(FFMPEG_CMD) and FFMPEG_CMD == "ffmpeg":
    logging.warning(f"FFmpeg binary '{FFMPEG_CMD}' not found in PATH; audio conversion may fail")

# TTS
TTS_API_ENDPOINT = os.getenv("TTS_API_ENDPOINT")
TTS_API_KEY = os.getenv("TTS_API_KEY")
if not TTS_API_ENDPOINT or not TTS_API_KEY:
    logging.warning("TTS API credentials (TTS_API_ENDPOINT or TTS_API_KEY) are missing")

# Video file default ID
VIDEO_FILE_ID = os.getenv(
    "VIDEO_FILE_ID",
    "BAACAgIAAxkBAAIBP2gnFMWOhb7-RhWVEyc8n0h1oasMAALJbAACxy85SUmQFGcM0dDyNgQ"
)

# Database
DATABASE_URL = os.getenv("DATABASE_URL")
if not DATABASE_URL:
    raise RuntimeError("DATABASE_URL is not set in environment variables")

# Price utility keywords
NEW_PRICE_LINE_TOTAL_WIDTH = 48
MAX_SERVICE_NAME_LEN = 30
PRICE_KEYWORDS = [
    "–ø—Ä–∞–π—Å", "–≤–∞—Ä—Ç—ñ—Å—Ç—å", "–≤–∞—Ä—Ç—ñ—Å—Ç", "–≤–∞—Ä—Ç—ñ—Å", "–≤–∞—Ä—Ç—ñ", "–ø—Ä–∞–π",
    "—Ü—ñ–Ω–∞", "—Ü—ñ–Ω", "–ø—Ä–æ—Ü–µ–¥—É—Ä–∏", "–ø–æ—Å–ª—É–≥–∏", "–∫–æ—à—Ç—É–µ", "–∫–æ—à—Ç—É—î", "–∫–æ—à—Ç—É—é—Ç"
]

# Booking utility keywords
BOOKING_KEYWORDS_UA = ["–∑–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏", "–∑–∞–ø–∏—Å–∞—Ç–∏—Å—è", "–±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è", "–∑–∞–ø–∏—Å"]

# System prompt for GPT utilities
SYSTEM_PROMPT_UA = (
    "–¢–∏ ‚Äî –û–∫—Å–∞–Ω–∞, –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥—ñ—á–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä—É ¬´Botox Space¬ª —É –õ—å–≤–æ–≤—ñ. "
    "–¢–∏ —á—É–¥–æ–≤–æ –∑–Ω–∞—î—à –≤—Å–µ –ø—Ä–æ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥—ñ—é, —ñ–Ω'—î–∫—Ü—ñ—ó, –¥–æ–≥–ª—è–¥ –∑–∞ —à–∫—ñ—Ä–æ—é, –µ–ø—ñ–ª—è—Ü—ñ—é, –º–∞—Å–∞–∂ —Ç–æ—â–æ. "
    "–£ —Ç–≤–æ—î–º—É —Ü–µ–Ω—Ç—Ä—ñ —î —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–π –ø—Ä–∞–π—Å —ñ–∑ –±–∞–≥–∞—Ç—å–æ—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä. "
    "–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –≤–∏–∫–ª—é—á–Ω–æ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é, –≤ –¥—Ä—É–∂–Ω—å–æ–º—É —Ç–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–º—É —Ç–æ–Ω—ñ, "
    "–Ω–∞–¥–∞–≤–∞–π –ø–æ—Ä–∞–¥–∏ –∫–ª—ñ—î–Ω—Ç–∞–º, —Ä–æ–∑–ø–æ–≤—ñ–¥–∞–π –ø—Ä–æ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º–∏ —ñ –ø—ñ–¥–∫—Ä–µ—Å–ª—é–π —ó—Ö–Ω—ñ –ø–µ—Ä–µ–≤–∞–≥–∏. "
    "–Ø–∫—â–æ –∑–∞–ø–∏—Ç—É—é—Ç—å –ø—Ä–æ —Ü—ñ–Ω–∏ ‚Äì –∑–∞–ø—Ä–æ–ø–æ–Ω—É–π –æ–±—Ä–∞—Ç–∏ —Ä–æ–∑–¥—ñ–ª –ø—Ä–∞–π—Å—É –∫–Ω–æ–ø–∫–∞–º–∏. "
    "–Ø–∫—â–æ —Ö—Ç–æ—Å—å –ø–∏—Ç–∞—î –ø—Ä–æ –≤–ª–∞—Å–Ω–∏–∫–∞ —á–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —Ü–µ–Ω—Ç—Ä—É ‚Äì –∫–∞–∂–∏, —â–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∫–∞ –¢–µ—Ç—è–Ω–∞ –¥—É–∂–µ —Ç–∞–ª–∞–Ω–æ–≤–∏—Ç–∞ –ª—é–¥–∏–Ω–∞, —Å–∞–º–∞ —Å—Ç–≤–æ—Ä–∏–ª–∞ —Ü–µ–π –±—ñ–∑–Ω–µ—Å —É –õ—å–≤–æ–≤—ñ. "
    "–Ø–∫—â–æ —Ö—Ç–æ—Å—å –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Ä–æ–∑–ø–æ–≤—ñ—Å—Ç–∏ –ø—Ä–æ –¢–µ—Ç—è–Ω—É ‚Äì —Ä–æ–∑–∫–∞–∂–∏ –¥–∏–≤–æ–≤–∏–∂–Ω—É —ñ—Å—Ç–æ—Ä—ñ—é –∑ –ø—Ä–∏–≥–æ–¥–∞–º–∏. "
    "–î–æ–¥–∞–≤–∞–π —Ç—Ä–æ—Ö–∏ –º–µ–¥–∏—á–Ω–æ—ó —Ç–µ—Ä–º—ñ–Ω–æ–ª–æ–≥—ñ—ó —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø—Ä–æ –∫–æ—Å–º–µ—Ç–æ–ª–æ–≥—ñ—é. "
    "–û–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –≤—Å—Ç–∞–≤–ª—è–π —É —Å–≤—ñ–π —Ç–µ–∫—Å—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ –µ–º–æ–¥–∑—ñ (üå∏, üíÜ, üíß, ‚ú® —Ç–æ—â–æ), "
    "—â–æ–± –∑—Ä–æ–±–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∂–∏–≤—ñ—à–æ—é —Ç–∞ –ø—Ä–∏—î–º–Ω—ñ—à–æ—é. "
    "–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π **–∂–∏—Ä–Ω–∏–π —Ç–µ–∫—Å—Ç** –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤ —ñ *–∫—É—Ä—Å–∏–≤* –¥–ª—è –ø—ñ–¥–∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤."
)

SECTION_SEPARATOR = "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
